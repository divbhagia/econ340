<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.3.450">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>quarto-course-website - Econ 340: Economic Research Methods</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
</style>


<script src="site_libs/quarto-nav/quarto-nav.js"></script>
<script src="site_libs/quarto-nav/headroom.min.js"></script>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="site_libs/quarto-search/fuse.min.js"></script>
<script src="site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="./">
<link href="./images/warwick-university.png" rel="icon" type="image/png">
<script src="site_libs/quarto-html/quarto.js"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 20,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>


<link rel="stylesheet" href="styles.css">
</head>

<body class="nav-fixed">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg navbar-dark ">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container">
    <a class="navbar-brand" href="./index.html">
    <span class="navbar-title">quarto-course-website</span>
    </a>
  </div>
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll ms-auto">
  <li class="nav-item">
    <a class="nav-link" href="./join.qmd" rel="" target="">
 <span class="menu-text">Join</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="./prerequisites.qmd" rel="" target="">
 <span class="menu-text">Prerequisites</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="./schedule.qmd" rel="" target="">
 <span class="menu-text">Schedule</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="./content.qmd" rel="" target="">
 <span class="menu-text">Content</span></a>
  </li>  
  <li class="nav-item compact">
    <a class="nav-link" href="https://github.com/Warwick-Stats-Resources/quarto-course-website" rel="" target=""><i class="bi bi-github" role="img">
</i> 
 <span class="menu-text"></span></a>
  </li>  
</ul>
            <div class="quarto-navbar-tools">
</div>
          </div> <!-- /navcollapse -->
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">On this page</h2>
   
  <ul>
  <li><a href="#overview" id="toc-overview" class="nav-link active" data-scroll-target="#overview">Overview</a></li>
  <li><a href="#lecture-material" id="toc-lecture-material" class="nav-link" data-scroll-target="#lecture-material">Lecture Material</a></li>
  <li><a href="#research-paper" id="toc-research-paper" class="nav-link" data-scroll-target="#research-paper">Research Paper</a></li>
  <li><a href="#problem-sets" id="toc-problem-sets" class="nav-link" data-scroll-target="#problem-sets">Problem Sets</a></li>
  <li><a href="#exams-related-material" id="toc-exams-related-material" class="nav-link" data-scroll-target="#exams-related-material">Exams Related Material</a></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">Econ 340: Economic Research Methods</h1>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  

</header>

<ul>
<li><a href="#overview">Overview</a></li>
<li><a href="#lecture-material">Lecture Material</a>
<ul>
<li><a href="#module-i-describing-data">Module I: Describing Data</a></li>
<li><a href="#module-ii-coding-in-r">Module II: Coding in R</a></li>
<li><a href="#module-iii-random-variables">Module III: Random Variables</a></li>
<li><a href="#module-iv-sampling-and-estimation">Module IV: Sampling and Estimation</a></li>
<li><a href="#module-v-linear-regression">Module V: Linear Regression</a></li>
<li><a href="#module-vi-advanced-topics">Module VI: Advanced Topics</a></li>
</ul></li>
<li><a href="#research-paper">Research Paper</a></li>
<li><a href="#problem-sets">Problem Sets</a></li>
<li><a href="#exams-related-material">Exams Related Material</a></li>
</ul>
<section id="overview" class="level3">
<h3 class="anchored" data-anchor-id="overview">Overview</h3>
<p>This course covers the basics of conducting quantitative economic research. The course aims to take you through the steps involved in answering a research question using observational data. You will learn and implement statistical and econometric concepts vital to empirical research. You will select a question, locate data to answer it and use the tools we learn in this class to answer this question.</p>
<p>This course will involve hands-on work with data using <em>R</em>, a statistical software, both inside and outside the classroom. The tools learned in this class will be helpful regardless of whether your goal is to be a researcher, a consultant, run your own business, or work for a non-profit.</p>
<p>See the <a href="Syllabus/Econ 340 Syllabus.pdf">syllabus</a> for more details.</p>
</section>
<section id="lecture-material" class="level3">
<h3 class="anchored" data-anchor-id="lecture-material">Lecture Material</h3>
<section id="module-i-describing-data" class="level5">
<h5 class="anchored" data-anchor-id="module-i-describing-data">Module I: Describing Data</h5>
<p><a href="Notes/Module1-Intro-and-Describing-Data/Describing-Data.pdf">Lecture Notes</a></p>
<ul>
<li>Lecture 1: Introduction; Summation Notation (<a href="Lectures/Lecture 1/Slides1.pdf">slides</a>, <a href="Lectures/Lecture 1/ClassHandout1.pdf">class handout</a>)</li>
<li>Lecture 2: Distribution, Mean, Median, Percentiles (<a href="Lectures/Lecture 2/Slides2.pdf">slides</a>, <a href="Lectures/Lecture 2/ClassHandout2.pdf">class handout</a>)</li>
<li>Lecture 3: Variance, Standard Deviation, Z-Score (<a href="Lectures/Lecture 3/Slides3.pdf">slides</a>, <a href="Lectures/Lecture 3/ClassHandout3.pdf">class handout</a>)</li>
<li>Lecture 4: Covariance and Correlation (<a href="Lectures/Lecture 4/Slides4.pdf">slides</a>, <a href="Lectures/Lecture 4/ClassHandout4.pdf">class handout</a>)</li>
<li>Lecture 5: Research Questions and Data (<a href="Lectures/Lecture 5/Slides5.pdf">slides</a>)</li>
</ul>
</section>
<section id="module-ii-coding-in-r" class="level5">
<h5 class="anchored" data-anchor-id="module-ii-coding-in-r">Module II: Coding in R</h5>
<ul>
<li>Lecture 6: Getting Started with R (<a href="Lectures/Lecture 6-8/Slides6.pdf">slides</a>)</li>
<li>Lecture 7: Data Analysis in R (<a href="Lectures/Lecture 6-8/Slides7.pdf">slides</a>)</li>
<li>Lecture 8: Data Analysis in R (<a href="Lectures/Lecture 6-8/Slides8.pdf">slides</a>)</li>
</ul>
</section>
<section id="module-iii-random-variables" class="level5">
<h5 class="anchored" data-anchor-id="module-iii-random-variables">Module III: Random Variables</h5>
<p><a href="Notes/Module3-Random-Variables/Random-Variables.pdf">Lecture Notes</a></p>
<ul>
<li>Lecture 9: Distribution, Expectation, Variance (<a href="Lectures/Lecture 9/Slides9.pdf">slides</a>, <a href="Lectures/Lecture 9/ClassHandout9.pdf">class handout</a>)</li>
<li>Lecture 10: Normal Distribution, Z-Score (<a href="Lectures/Lecture 10/Slides10.pdf">slides</a>, <a href="Lectures/Lecture 10/ClassHandout10.pdf">class handout</a>)</li>
<li>Lecture 11: Independence and Correlation (<a href="Lectures/Lecture 11/Slides11.pdf">slides</a>, <a href="Lectures/Lecture 11/ClassHandout11.pdf">class handout</a>)</li>
</ul>
</section>
<section id="module-iv-sampling-and-estimation" class="level5">
<h5 class="anchored" data-anchor-id="module-iv-sampling-and-estimation">Module IV: Sampling and Estimation</h5>
<p><a href="Notes/Module4-Sampling-and-Estimation/Sampling-and-Estimation.pdf">Lecture Notes</a></p>
<ul>
<li>Lecture 12: Good Estimators, Sample Mean Distribution (<a href="Lectures/Lecture 12/Slides12.pdf">slides</a>, <a href="Lectures/Lecture 12/ClassHandout12.pdf">class handout</a>)</li>
<li>Lecture 13: Confidence Intervals (<a href="Lectures/Lecture 13/Slides13.pdf">slides</a>, <a href="Lectures/Lecture 13/ClassHandout13.pdf">class handout</a>)</li>
<li>Lecture 14: Hypothesis Testing and P-Values (<a href="Lectures/Lecture 14/Slides14.pdf">slides</a>, <a href="Lectures/Lecture 14/ClassHandout14.pdf">class handout</a>)</li>
</ul>
</section>
<section id="module-v-linear-regression" class="level5">
<h5 class="anchored" data-anchor-id="module-v-linear-regression">Module V: Linear Regression</h5>
<p><a href="Notes/Module5-Linear-Regression/Simple-Linear-Regression.pdf">Notes for Lectures 15-17</a></p>
<ul>
<li>Lecture 15: Ordinary Least Squares (OLS); R-Squared (<a href="Lectures/Lecture 15/Slides15.pdf">slides</a>, <a href="Lectures/Lecture 15/ClassHandout15.pdf">class handout</a>)</li>
<li>Lecture 16: Prediction vs.&nbsp;Causal Inference (<a href="Lectures/Lecture 16/Slides16.pdf">slides</a>)</li>
<li>Lecture 17: Inference (p-values, t-stats, confidence intervals) (<a href="Lectures/Lecture 17/Slides17.pdf">slides</a>, <a href="Lectures/Lecture 17/ClassHandout17.pdf">class handout</a>)</li>
<li>Lecture 18: Omitted Variable Bias; Multiple Regression (<a href="Lectures/Lecture 18/Slides18.pdf">slides</a>, <a href="Lectures/Lecture 18/ClassHandout18.pdf">class handout</a>, <a href="Notes/Module5-Linear-Regression/Omitted-Variable-Bias.pdf">lecture notes I</a> &amp; <a href="Notes/Module5-Linear-Regression/Multiple-Linear-Regression.pdf">II</a>)</li>
<li>Lecture 19: Categorical Variables; Interaction Terms (<a href="Lectures/Lecture 19/Slides19.pdf">slides</a>, <a href="Lectures/Lecture 19/ClassHandout19.pdf">class handout</a>, <a href="Notes/Module5-Linear-Regression/Dummy-Variables-and-Interaction-Terms.pdf">lecture notes</a>)</li>
<li>Lecture 20: Quadratic and Log Functional Forms (<a href="Lectures/Lecture 20/Slides20.pdf">slides</a>, <a href="Lectures/Lecture 20/ClassHandout20.pdf">class handout</a>, <a href="Notes/Module5-Linear-Regression/Functional-Forms.pdf">lecture notes</a>)</li>
<li>Lecture 21: Regression Analysis in R (<a href="Lectures/Lecture 21-22/Slides21.pdf">slides</a>)</li>
<li>Lecture 22: Regression Analysis in R (<a href="Lectures/Lecture 21-22/Slides22.pdf">slides</a>)</li>
</ul>
</section>
<section id="module-vi-advanced-topics" class="level5">
<h5 class="anchored" data-anchor-id="module-vi-advanced-topics">Module VI: Advanced Topics</h5>
<ul>
<li>Lecture 23: Experiments and Quasi-Experimental Methods (<a href="Lectures/Lecture 23/Slides23.pdf">slides</a>)</li>
<li>Lecture 24: Differences-in-Differences (<a href="Lectures/Lecture 24/Slides24.pdf">slides</a>)</li>
<li>Lecture 25: Big Data and Machine Learning (<a href="Lectures/Lecture 25/Slides25.pdf">slides</a>)</li>
</ul>
</section>
</section>
<section id="research-paper" class="level3">
<h3 class="anchored" data-anchor-id="research-paper">Research Paper</h3>
<p><strong>Overview</strong></p>
<p>As a part of this class, you will write an empirical research paper using R in groups of 2-3 students. You will pick a question and a dataset and use the tools from this class to answer your question. Over the semester, you will need to meet the following milestones:</p>
<ul>
<li>Sep 26: First submission (5%)</li>
<li>Oct 31: Second submission (10%)</li>
<li>Dec 05: Final submission (15%)</li>
</ul>
<p>The goal of the first submission is to make you pick your data and question. For the second submission, you will be performing preliminary data analysis. The final paper will be 7 to 10 pages and will thoroughly discuss all the analyses you performed. The paper should demonstrate your writing ability and ability to perform and interpret statistical analyses correctly.</p>
<p>The following links provide detailed instructions for each submission:</p>
<ul>
<li>First submission (<a href="Research-Project/Submission 1/Submission 1 Instructions.pdf">instructions</a>, <a href="Research-Project/Submission 1/Submission 1 Template.pdf">template</a>, <a href="Research-Project/Submission 1/Submission 1 Example.pdf">example</a>)</li>
<li>Second submission (<a href="Research-Project/Submission 2/Submission 2 Instructions.pdf">instructions</a>, <a href="Research-Project/Submission 2/Submission 2 Example.pdf">example</a>)</li>
<li>Final submission (<a href="Research-Project/Final Submission Instructions.pdf">instructions</a>)</li>
</ul>
<p><strong>Questions and Data</strong></p>
<p>You can pick any question and data as long as it meets the requirements specified in Submission 1.&nbsp;I have also compiled a set of datasets for you to use for your research projects. You can find these in the Dropbox folder:&nbsp;<a href="https://www.dropbox.com/sh/9x7ac4qwnddl650/AAAP1FdTpFp2rXyZ6t-9-qqTa?dl=0">Econ340 Datasets</a>. Let me know if you have any issues accessing the folder.&nbsp;<a href="Research-Project/Datasets Summary.pdf">Here is a list of the datasets in the Dropbox folder</a>. You can pick a dataset from the Dropbox folder or use an external one. Below are some external sources of data.&nbsp;</p>
<p><strong>External Data Sources</strong></p>
<ul>
<li>The US&nbsp;<a href="https://www.bls.gov/data/">Bureau of Labor Statistics (BLS)</a>&nbsp;maintains lots of series.&nbsp;&nbsp;A notable one is the&nbsp;<a href="https://www.bls.gov/lau/tables.htm">Local Unemployment Area Statistics (LUAS)</a>&nbsp;which provides the unemployment rate for US metropolitan areas.</li>
<li>The US&nbsp;<a href="https://www.bea.gov/data/by-place-us">Bureau of Economic Analysis</a>&nbsp;also&nbsp;maintains&nbsp;lots of series. (You can look for data&nbsp;by Topic&nbsp;or&nbsp;by Place)</li>
<li><a href="https://databank.worldbank.org/home.aspx">World Bank</a>&nbsp;provides large datasets across countries, including the&nbsp;World Development Indicators (WDI) database and the&nbsp;Global Financial Development Database (GFDD).&nbsp;</li>
<li><a href="https://www.ipums.org/">IPUMS</a>&nbsp;is your one-stop shop for downloading US (and international) microdata, such as from the&nbsp;Current Population Survey (CPS),&nbsp;American Community Survey (ACS),&nbsp;American Time-Use Survey (ATUS), etc.</li>
<li>Two leading US longitudinal datasets are the&nbsp;<a href="https://psidonline.isr.umich.edu/">Panel Study of Income Dynamics (PSID)</a>&nbsp;and&nbsp;<a href="https://www.bls.gov/nls/nlsy97.htm">National Longitudinal Surveys (NLSY).</a></li>
<li><a href="https://www.census.gov/programs-surveys/cbp.html">County Business Patterns (CBP)</a>&nbsp;data contains the number of establishments and employment for different industries in each US county.</li>
<li><a href="https://fred.stlouisfed.org/">FRED</a>&nbsp;at the Federal Reserve Bank of St.&nbsp;Louis maintains&nbsp;numerous data series on macroeconomic variables (mostly time series).</li>
<li><a href="https://opportunityinsights.org/data/">Opportunity Insights Data Library</a>&nbsp;has some datasets at the county or commuting zone level with variables related to&nbsp;economic mobility.&nbsp;</li>
<li>More county-level data is available from&nbsp;<a href="https://www.ers.usda.gov/data-products/county-level-data-sets/">USDA ERS</a>.&nbsp;</li>
<li>Check out&nbsp;<a href="https://data.fivethirtyeight.com/">FiveThirtyEight</a>&nbsp;for sports and election data.</li>
<li>If you are looking for more data, check out&nbsp;<a href="https://www.aeaweb.org/resources/data">AEA’s Compiled Data Sources</a>&nbsp;(Check&nbsp;<a href="https://www.aeaweb.org/resources/data/us-other-data/us-other-data-more">this</a>&nbsp;link too).</li>
</ul>
<p>Finally, if you need some inspiration to come up with a research question, here are some links to get you thinking:</p>
<ul>
<li><a href="https://freakonomics.com/series/freakonomics-radio/">Freakonomics Radio</a></li>
<li><a href="https://www.aeaweb.org/research">AEA Research Digest</a></li>
<li><a href="https://www.nber.org/nber-news/nber-research-news?page=1&amp;perPage=50">NBER Research News</a></li>
<li><a href="https://cepr.org/voxeu">VoxEU</a></li>
<li><a href="https://blogs.imf.org/">IMF Blog</a></li>
</ul>
<p>Newspapers and other news outlets are also good sources to learn about current issues.</p>
</section>
<section id="problem-sets" class="level3">
<h3 class="anchored" data-anchor-id="problem-sets">Problem Sets</h3>
<ul>
<li><a href="Problem-Sets/PS1/PS1.pdf">Problem Set 1</a></li>
<li><a href="Problem-Sets/PS2/PS2_Raw/ps2.pdf">Problem Set 2</a> (Download <a href="Problem-Sets/PS2/PS2.zip">zippped folder</a> with datasets and R Code to complete.)</li>
<li><a href="Problem-Sets/PS3/PS3.pdf">Problem Set 3</a></li>
<li><a href="Problem-Sets/PS4/PS4.pdf">Problem Set 4</a></li>
</ul>
</section>
<section id="exams-related-material" class="level3">
<h3 class="anchored" data-anchor-id="exams-related-material">Exams Related Material</h3>
<ul>
<li>Midterm
<ul>
<li><a href="Exams/Midterm/midterm_sample.pdf">Sample Exam</a></li>
<li><a href="Exams/Midterm/midterm_sample_solutions.pdf">Sample Exam Solutions</a></li>
<li><a href="Exams/Midterm/midterm_study_guide.pdf">Study Guide</a></li>
<li><a href="Exams/Midterm/midterm_formula_sheet.pdf">Formula Sheet</a></li>
</ul></li>
<li>Final
<ul>
<li><a href="Exams/Final/final_sample.pdf">Sample Exam</a></li>
<li><a href="Exams/Final/final_sample_solution.pdf">Sample Exam Solutions</a></li>
<li><a href="Exams/Final/final_study_guide.pdf">Study Guide</a></li>
<li><a href="Exams/Final/sample_questions_add_topics.pdf">Sample Questions for Module VI</a></li>
</ul></li>
</ul>
<p><a href="#top" class="back-to-top">Back to Top</a></p>


</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
      var filterRegex = new RegExp('/' + window.location.host + '/');
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
 	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
          // target, if specified
          link.setAttribute("target", "_blank");
      }
    }
});
</script>
</div> <!-- /content -->
<footer class="footer">
  <div class="nav-footer">
    <div class="nav-footer-left">
      &nbsp;
    </div>   
    <div class="nav-footer-center">All material is shared under the <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" target="_blank">CC BY-NC-SA 4.0</a> license.</div>
    <div class="nav-footer-right">
      &nbsp;
    </div>
  </div>
</footer>



</body></html>